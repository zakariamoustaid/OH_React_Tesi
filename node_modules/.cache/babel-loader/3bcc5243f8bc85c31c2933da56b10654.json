{"ast":null,"code":"var _jsxFileName = \"/home/zak/Tesi/OH_React_Tesi/src/components/activities/newBillActivity/DrawerActivity.tsx\";\nimport React from \"react\";\nimport { DataGrid } from '@material-ui/data-grid';\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport AddIcon from '@material-ui/icons/Add';\n\nconst DrawerActivity = ({\n  prices\n}) => {\n  //\n  const [medicals, setMedicals] = React.useState([]);\n  const [items, setItems] = React.useState([]);\n\n  const take_items = () => {\n    medicals === null || medicals === void 0 ? void 0 : medicals.forEach(function (i, j) {\n      if (items.some(it => it.id === i) === true) {\n        items === null || items === void 0 ? void 0 : items.forEach(function (x) {\n          if (x.id === i) console.log('ciao');\n        });\n      } else {\n        //item.push({ id: prices?.find(p => p.id == i)?.id, description: prices?.find(p => p.id == i)?.description, amount: prices?.find(p => p.id == i)?.price, item_quant: 1 });\n        setItems(pre => {\n          var _prices$find, _prices$find2, _prices$find2$list, _prices$find3;\n\n          return [...pre, {\n            id: prices === null || prices === void 0 ? void 0 : (_prices$find = prices.find(p => p.id == i)) === null || _prices$find === void 0 ? void 0 : _prices$find.id,\n            description: prices === null || prices === void 0 ? void 0 : (_prices$find2 = prices.find(p => p.id == i)) === null || _prices$find2 === void 0 ? void 0 : (_prices$find2$list = _prices$find2.list) === null || _prices$find2$list === void 0 ? void 0 : _prices$find2$list.description,\n            amount: prices === null || prices === void 0 ? void 0 : (_prices$find3 = prices.find(p => p.id == i)) === null || _prices$find3 === void 0 ? void 0 : _prices$find3.price,\n            item_quant: 1\n          }];\n        });\n      }\n    });\n  };\n\n  const [open_med, setOpen_med] = React.useState(false);\n\n  const handleClickOpen_med = () => {\n    setOpen_med(true);\n  };\n\n  const handleClose_med = () => {\n    setOpen_med(false);\n  };\n\n  const columns = [{\n    field: 'id',\n    headerName: 'ID',\n    width: 90\n  }, {\n    field: 'group',\n    headerName: 'Group',\n    width: 125,\n    editable: true\n  }, {\n    field: 'description',\n    headerName: 'Description',\n    width: 170,\n    editable: true\n  }];\n  let rows_med = [];\n  prices === null || prices === void 0 ? void 0 : prices.forEach(function (m, i) {\n    var _m$list;\n\n    if (m.group === \"MED\") rows_med[i].push({\n      id: m.id,\n      group: m.group,\n      description: (_m$list = m.list) === null || _m$list === void 0 ? void 0 : _m$list.description\n    });\n  });\n  rows_med === null || rows_med === void 0 ? void 0 : rows_med.shift();\n  return /*#__PURE__*/React.createElement(List, {\n    className: \"bill_Drawer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    key: \"Medical\",\n    onClick: handleClickOpen_med,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 74\n    }\n  }), \"Medical\"), /*#__PURE__*/React.createElement(Dialog, {\n    open: open_med,\n    onClose: handleClose_med,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"Select Medical\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: take_items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Confirm\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: 400,\n      width: 450\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(DataGrid, {\n    rows: rows_med,\n    columns: columns,\n    checkboxSelection: true,\n    disableSelectionOnClick: true,\n    onSelectionModelChange: e => setMedicals(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default DrawerActivity;","map":{"version":3,"sources":["/home/zak/Tesi/OH_React_Tesi/src/components/activities/newBillActivity/DrawerActivity.tsx"],"names":["React","DataGrid","Button","Dialog","ListItem","List","DialogContent","DialogTitle","AddIcon","DrawerActivity","prices","medicals","setMedicals","useState","items","setItems","take_items","forEach","i","j","some","it","id","x","console","log","pre","find","p","description","list","amount","price","item_quant","open_med","setOpen_med","handleClickOpen_med","handleClose_med","columns","field","headerName","width","editable","rows_med","m","group","push","shift","height","e"],"mappings":"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","sourcesContent":["import React, { FunctionComponent, useEffect, useState } from \"react\";\nimport { DataGrid, GridSelectionModel, GridColDef, GridRowId, GridRowData } from '@material-ui/data-grid';\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport AddIcon from '@material-ui/icons/Add';\nimport SaveIcon from '@material-ui/icons/Save';\nimport { PricesState } from \"./types\";\n\nconst DrawerActivity: FunctionComponent<PricesState> = ({\n    prices,\n}) => {\n\n    //\n    type Item = {\n        id?: number;\n        description?: string;\n        amount?: number;\n        item_quant?: number;\n    }\n\n    const [medicals, setMedicals] = React.useState<GridSelectionModel>([]);\n    const [items, setItems] = React.useState<Item[]>([]);\n\n    const take_items = () => {\n        medicals?.forEach(function (i, j) {\n            if ((items.some(it => it.id === i)) === true) {\n                items?.forEach(function (x) {\n                    if (x.id === i)\n                        console.log('ciao');\n                })\n            }\n            else {\n                //item.push({ id: prices?.find(p => p.id == i)?.id, description: prices?.find(p => p.id == i)?.description, amount: prices?.find(p => p.id == i)?.price, item_quant: 1 });\n                setItems(pre =>\n                    [...pre,\n                    {\n                        id: prices?.find(p => p.id == i)?.id,\n                        description: prices?.find(p => p.id == i)?.list?.description,\n                        amount: prices?.find(p => p.id == i)?.price,\n                        item_quant: 1\n                    }]);\n            }\n        })\n    }\n\n    const [open_med, setOpen_med] = React.useState(false);\n\n    const handleClickOpen_med = () => {\n        setOpen_med(true);\n    };\n\n    const handleClose_med = () => {\n        setOpen_med(false);\n    };\n\n\n    const columns= [\n        { field: 'id', headerName: 'ID', width: 90 },\n        {\n            field: 'group',\n            headerName: 'Group',\n            width: 125,\n            editable: true,\n        },\n        {\n            field: 'description',\n            headerName: 'Description',\n            width: 170,\n            editable: true,\n        },\n    ];\n\n    type Row = [{\n        id: number | undefined,\n        group: string,\n        description: string | undefined\n    }];\n\n    let rows_med: Row[] = [];\n\n    prices?.forEach(function (m, i) {\n        if (m.group === \"MED\")\n            rows_med[i].push({ id: m.id, group: m.group, description: m.list?.description })\n    })\n    rows_med?.shift();\n\n    return (\n        <List className=\"bill_Drawer\">\n            <ListItem button key=\"Medical\" onClick={handleClickOpen_med}><AddIcon></AddIcon>Medical</ListItem>\n            <Dialog open={open_med} onClose={handleClose_med} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">Select Medical</DialogTitle>\n                <Button onClick={take_items}>Confirm</Button>\n                <DialogContent>\n                    <div style={{ height: 400, width: 450 }}>\n                        <DataGrid\n                            rows={rows_med}\n                            columns={columns}\n                            checkboxSelection\n                            disableSelectionOnClick\n                            onSelectionModelChange={e => setMedicals(e)}\n                        />\n                    </div>\n                </DialogContent>\n            </Dialog>\n        </List>\n    )\n}\n\n\nexport default DrawerActivity;"]},"metadata":{},"sourceType":"module"}