{"ast":null,"code":"import produce from \"immer\";\nimport { CREATE_THERAPY_FAIL, CREATE_THERAPY_LOADING, CREATE_THERAPY_RESET, CREATE_THERAPY_SUCCESS, GET_THERAPY_FAIL, GET_THERAPY_LOADING, GET_THERAPY_SUCCESS, GET_THERAPY_SUCCESS_EMPTY } from \"./consts\";\nimport { initial } from \"./initial\";\nexport default produce((draft, action) => {\n  switch (action.type) {\n    /**\n     * CREATE_THERAPY\n     */\n    case CREATE_THERAPY_LOADING:\n      {\n        draft.createTherapy.status = \"LOADING\";\n        break;\n      }\n\n    case CREATE_THERAPY_SUCCESS:\n      {\n        draft.createTherapy.status = \"SUCCESS\";\n        draft.createTherapy.data = action.payload;\n\n        if (draft.therapiesByPatientId.data) {\n          draft.therapiesByPatientId.data = [...draft.therapiesByPatientId.data, action.payload];\n        } else {\n          draft.therapiesByPatientId.data = [action.payload];\n        }\n\n        delete draft.createTherapy.error;\n        break;\n      }\n\n    case CREATE_THERAPY_FAIL:\n      {\n        draft.createTherapy.status = \"FAIL\";\n        draft.createTherapy.error = action.error;\n        break;\n      }\n\n    case CREATE_THERAPY_RESET:\n      {\n        draft.createTherapy.status = \"IDLE\";\n        delete draft.createTherapy.error;\n        break;\n      }\n\n    /**\n     * SEARCH_THERAPY\n     */\n\n    case GET_THERAPY_LOADING:\n      {\n        draft.therapiesByPatientId.status = \"LOADING\";\n        break;\n      }\n\n    case GET_THERAPY_SUCCESS:\n      {\n        draft.therapiesByPatientId.status = \"SUCCESS\";\n        draft.therapiesByPatientId.data = action.payload;\n        delete draft.therapiesByPatientId.error;\n        break;\n      }\n\n    case GET_THERAPY_SUCCESS_EMPTY:\n      {\n        draft.therapiesByPatientId.status = \"SUCCESS_EMPTY\";\n        draft.therapiesByPatientId.data = [];\n        delete draft.therapiesByPatientId.error;\n        break;\n      }\n\n    case GET_THERAPY_FAIL:\n      {\n        draft.therapiesByPatientId.status = \"FAIL\";\n        draft.therapiesByPatientId.error = action.error;\n        break;\n      }\n  }\n}, initial);","map":{"version":3,"sources":["/home/zak/Tesi/OH_React_Tesi/src/state/therapies/reducer.ts"],"names":["produce","CREATE_THERAPY_FAIL","CREATE_THERAPY_LOADING","CREATE_THERAPY_RESET","CREATE_THERAPY_SUCCESS","GET_THERAPY_FAIL","GET_THERAPY_LOADING","GET_THERAPY_SUCCESS","GET_THERAPY_SUCCESS_EMPTY","initial","draft","action","type","createTherapy","status","data","payload","therapiesByPatientId","error"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,OAApB;AAEA,SACEC,mBADF,EAEEC,sBAFF,EAGEC,oBAHF,EAIEC,sBAJF,EAKEC,gBALF,EAMEC,mBANF,EAOEC,mBAPF,EAQEC,yBARF,QASO,UATP;AAUA,SAASC,OAAT,QAAwB,WAAxB;AAGA,eAAeT,OAAO,CAAC,CAACU,KAAD,EAAyBC,MAAzB,KAAuD;AAC5E,UAAQA,MAAM,CAACC,IAAf;AACE;AACJ;AACA;AACI,SAAKV,sBAAL;AAA6B;AAC3BQ,QAAAA,KAAK,CAACG,aAAN,CAAoBC,MAApB,GAA6B,SAA7B;AACA;AACD;;AAED,SAAKV,sBAAL;AAA6B;AAC3BM,QAAAA,KAAK,CAACG,aAAN,CAAoBC,MAApB,GAA6B,SAA7B;AACAJ,QAAAA,KAAK,CAACG,aAAN,CAAoBE,IAApB,GAA2BJ,MAAM,CAACK,OAAlC;;AACA,YAAIN,KAAK,CAACO,oBAAN,CAA2BF,IAA/B,EAAqC;AACnCL,UAAAA,KAAK,CAACO,oBAAN,CAA2BF,IAA3B,GAAkC,CAChC,GAAGL,KAAK,CAACO,oBAAN,CAA2BF,IADE,EAEhCJ,MAAM,CAACK,OAFyB,CAAlC;AAID,SALD,MAKO;AACLN,UAAAA,KAAK,CAACO,oBAAN,CAA2BF,IAA3B,GAAkC,CAACJ,MAAM,CAACK,OAAR,CAAlC;AACD;;AACD,eAAON,KAAK,CAACG,aAAN,CAAoBK,KAA3B;AACA;AACD;;AAED,SAAKjB,mBAAL;AAA0B;AACxBS,QAAAA,KAAK,CAACG,aAAN,CAAoBC,MAApB,GAA6B,MAA7B;AACAJ,QAAAA,KAAK,CAACG,aAAN,CAAoBK,KAApB,GAA4BP,MAAM,CAACO,KAAnC;AACA;AACD;;AAED,SAAKf,oBAAL;AAA2B;AACzBO,QAAAA,KAAK,CAACG,aAAN,CAAoBC,MAApB,GAA6B,MAA7B;AACA,eAAOJ,KAAK,CAACG,aAAN,CAAoBK,KAA3B;AACA;AACD;;AAED;AACJ;AACA;;AACI,SAAKZ,mBAAL;AAA0B;AACxBI,QAAAA,KAAK,CAACO,oBAAN,CAA2BH,MAA3B,GAAoC,SAApC;AACA;AACD;;AAED,SAAKP,mBAAL;AAA0B;AACxBG,QAAAA,KAAK,CAACO,oBAAN,CAA2BH,MAA3B,GAAoC,SAApC;AACAJ,QAAAA,KAAK,CAACO,oBAAN,CAA2BF,IAA3B,GAAkCJ,MAAM,CAACK,OAAzC;AACA,eAAON,KAAK,CAACO,oBAAN,CAA2BC,KAAlC;AACA;AACD;;AAED,SAAKV,yBAAL;AAAgC;AAC9BE,QAAAA,KAAK,CAACO,oBAAN,CAA2BH,MAA3B,GAAoC,eAApC;AACAJ,QAAAA,KAAK,CAACO,oBAAN,CAA2BF,IAA3B,GAAkC,EAAlC;AACA,eAAOL,KAAK,CAACO,oBAAN,CAA2BC,KAAlC;AACA;AACD;;AACD,SAAKb,gBAAL;AAAuB;AACrBK,QAAAA,KAAK,CAACO,oBAAN,CAA2BH,MAA3B,GAAoC,MAApC;AACAJ,QAAAA,KAAK,CAACO,oBAAN,CAA2BC,KAA3B,GAAmCP,MAAM,CAACO,KAA1C;AACA;AACD;AA7DH;AA+DD,CAhEqB,EAgEnBT,OAhEmB,CAAtB","sourcesContent":["import produce from \"immer\";\nimport { IAction } from \"../types\";\nimport {\n  CREATE_THERAPY_FAIL,\n  CREATE_THERAPY_LOADING,\n  CREATE_THERAPY_RESET,\n  CREATE_THERAPY_SUCCESS,\n  GET_THERAPY_FAIL,\n  GET_THERAPY_LOADING,\n  GET_THERAPY_SUCCESS,\n  GET_THERAPY_SUCCESS_EMPTY,\n} from \"./consts\";\nimport { initial } from \"./initial\";\nimport { ITherapiesState } from \"./types\";\n\nexport default produce((draft: ITherapiesState, action: IAction<any, any>) => {\n  switch (action.type) {\n    /**\n     * CREATE_THERAPY\n     */\n    case CREATE_THERAPY_LOADING: {\n      draft.createTherapy.status = \"LOADING\";\n      break;\n    }\n\n    case CREATE_THERAPY_SUCCESS: {\n      draft.createTherapy.status = \"SUCCESS\";\n      draft.createTherapy.data = action.payload;\n      if (draft.therapiesByPatientId.data) {\n        draft.therapiesByPatientId.data = [\n          ...draft.therapiesByPatientId.data,\n          action.payload,\n        ];\n      } else {\n        draft.therapiesByPatientId.data = [action.payload];\n      }\n      delete draft.createTherapy.error;\n      break;\n    }\n\n    case CREATE_THERAPY_FAIL: {\n      draft.createTherapy.status = \"FAIL\";\n      draft.createTherapy.error = action.error;\n      break;\n    }\n\n    case CREATE_THERAPY_RESET: {\n      draft.createTherapy.status = \"IDLE\";\n      delete draft.createTherapy.error;\n      break;\n    }\n\n    /**\n     * SEARCH_THERAPY\n     */\n    case GET_THERAPY_LOADING: {\n      draft.therapiesByPatientId.status = \"LOADING\";\n      break;\n    }\n\n    case GET_THERAPY_SUCCESS: {\n      draft.therapiesByPatientId.status = \"SUCCESS\";\n      draft.therapiesByPatientId.data = action.payload;\n      delete draft.therapiesByPatientId.error;\n      break;\n    }\n\n    case GET_THERAPY_SUCCESS_EMPTY: {\n      draft.therapiesByPatientId.status = \"SUCCESS_EMPTY\";\n      draft.therapiesByPatientId.data = [];\n      delete draft.therapiesByPatientId.error;\n      break;\n    }\n    case GET_THERAPY_FAIL: {\n      draft.therapiesByPatientId.status = \"FAIL\";\n      draft.therapiesByPatientId.error = action.error;\n      break;\n    }\n  }\n}, initial);\n"]},"metadata":{},"sourceType":"module"}