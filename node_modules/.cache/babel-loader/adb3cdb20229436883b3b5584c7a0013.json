{"ast":null,"code":"import { AUTH_KEY, PERMISSION_KEY } from \"../../consts\";\nimport { SessionStorage } from \"../storage/storage\";\nexport const getAuthenticationFromSession = () => {\n  const {\n    permission\n  } = SessionStorage.read(PERMISSION_KEY);\n  const {\n    displayName,\n    token\n  } = SessionStorage.read(AUTH_KEY);\n\n  if (!(token && displayName && permission)) {\n    throw new Error(\"unauthenticated\");\n  }\n\n  return {\n    displayName,\n    permission,\n    token\n  };\n};","map":{"version":3,"sources":["/home/zak/Tesi/OH_React_Tesi/src/libraries/authUtils/getAuthenticationFromSession.ts"],"names":["AUTH_KEY","PERMISSION_KEY","SessionStorage","getAuthenticationFromSession","permission","read","displayName","token","Error"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,cAAnB,QAAyC,cAAzC;AAEA,SAASC,cAAT,QAA+B,oBAA/B;AAEA,OAAO,MAAMC,4BAA4B,GAAG,MAAuB;AACjE,QAAM;AAAEC,IAAAA;AAAF,MAAiBF,cAAc,CAACG,IAAf,CAAoBJ,cAApB,CAAvB;AACA,QAAM;AAAEK,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAAyBL,cAAc,CAACG,IAAf,CAAoBL,QAApB,CAA/B;;AAEA,MAAI,EAAEO,KAAK,IAAID,WAAT,IAAwBF,UAA1B,CAAJ,EAA2C;AACzC,UAAM,IAAII,KAAJ,CAAU,iBAAV,CAAN;AACD;;AAED,SAAO;AACLF,IAAAA,WADK;AAELF,IAAAA,UAFK;AAGLG,IAAAA;AAHK,GAAP;AAKD,CAbM","sourcesContent":["import { AUTH_KEY, PERMISSION_KEY } from \"../../consts\";\nimport { IAuthentication } from \"../../state/main/types\";\nimport { SessionStorage } from \"../storage/storage\";\n\nexport const getAuthenticationFromSession = (): IAuthentication => {\n  const { permission } = SessionStorage.read(PERMISSION_KEY);\n  const { displayName, token } = SessionStorage.read(AUTH_KEY);\n\n  if (!(token && displayName && permission)) {\n    throw new Error(\"unauthenticated\");\n  }\n\n  return {\n    displayName,\n    permission,\n    token,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}