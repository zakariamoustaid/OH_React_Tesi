{"ast":null,"code":"var _jsxFileName = \"/home/zak/Tesi/OH_React_Tesi/src/components/activities/newBillActivity/NewBillActivity.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport AppHeader from \"../../accessories/appHeader/AppHeader\";\nimport Footer from \"../../accessories/footer/Footer\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from '@material-ui/core/Table';\nimport TextData from '@material-ui/core/TextField';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { useTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport \"./styles.scss\";\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport { newBill } from \"../../../state/bills/actions\";\nimport { getPrices, getPriceLists } from \"../../../state/prices/actions\";\nimport { getMedicals } from \"../../../state/medicals/actions\";\nimport DrawerActivity from \"./DrawerActivity\";\n\nconst NewBillActivity = ({\n  userCredentials,\n  billHomeRoute,\n  med,\n  getMedicals,\n  getMedStat,\n  bill,\n  newBill,\n  prices,\n  getPrices,\n  priceLists,\n  getPriceLists\n}) => {\n  const {\n    t\n  } = useTranslation();\n  const breadcrumbMap = {\n    [t(\"nav.dashboard\")]: \"/\",\n    [t(\"nav.billing\")]: \"/billing\",\n    [t(\"nav.newbill\")]: \"/bills\"\n  };\n  useEffect(() => {\n    getMedicals();\n  }, []);\n  useEffect(() => {\n    getPrices();\n  }, []); //\n  //get patient\n  //\n\n  const [patient, setPatient] = useState();\n  useEffect(() => {\n    const url = \"https://www.open-hospital.org/oh11-api/patients?page=1&size=1\";\n    const auth = \"Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImF1dGgiOiJhZG1pbiIsImV4cCI6MTYyOTgwNjkwMX0.65SNDeb_LGZZb_bIa20q8zQok0UiXEMHvJfiW8x0YHNujg6FFbMnz9WxC7H0MGgjAHgihFNL5mW3p1YZi6-7UQ\";\n    const acc = \"application/json\";\n\n    const fetchData = async () => {\n      try {\n        const response = await fetch(url, {\n          method: 'GET',\n          headers: {\n            Accept: acc,\n            Authorization: auth\n          }\n        });\n        const json = await response.json();\n        setPatient(json[0]);\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n  const patient_data = (patient === null || patient === void 0 ? void 0 : patient.firstName) + \" \" + (patient === null || patient === void 0 ? void 0 : patient.secondName); //delete an item from bill\n\n  const delete_item = e => {\n    setItems(items.filter(item => e !== item));\n  };\n\n  const [items, setItems] = React.useState([]);\n\n  const test = e => {\n    e.preventDefault();\n    console.log('hello patient');\n  }; //  //  //  //  //\n  //  CREATE BILL //\n  //  //  //  //  //\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new_Bill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AppHeader, {\n    userCredentials: userCredentials,\n    breadcrumbMap: breadcrumbMap,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newBill__background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newBill__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newBill__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, t(\"nav.newbill\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newBill__panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billPanel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newBill_Head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newBill_Date_Pat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(TextData, {\n    className: \"bill_Date\",\n    id: \"date\",\n    label: \"SELECT DATE\",\n    type: \"date\",\n    defaultValue: \"\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    className: \"bill_SelectPat\",\n    onClick: e => test(e),\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 41\n    }\n  }, \"find Patient\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newBill_InputPat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 41\n    }\n  }, \"Patient\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 63\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"patient_input\",\n    value: patient_data,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 76\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"buttonBillSubmit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 41\n    }\n  }, \"SAVE\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newBill_Rows\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    className: \"tableDrawer\",\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    \"aria-label\": \"a dense table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 53\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 53\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 53\n    }\n  }, \"Qty\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 53\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 45\n    }\n  }, items === null || items === void 0 ? void 0 : items.map((x, y) => {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 61\n      }\n    }, x.hashCode), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 61\n      }\n    }, x.itemAmount), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 61\n      }\n    }, x.itemQuantity), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => delete_item(x),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 72\n      }\n    }, /*#__PURE__*/React.createElement(HighlightOffIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 111\n      }\n    }))));\n  }))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bill_Drawer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(DrawerActivity, {\n    prices: prices,\n    items: items,\n    setItems: setItems,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }));\n};\n\nconst mapStateToProps = state => ({\n  userCredentials: state.main.authentication.data,\n  bill: state.bills.getBill.data,\n  med: state.medicals.medicalsOrderByName.data,\n  prices: state.prices.getPrices.data,\n  getMedStat: state.medicals.medicalsOrderByName.status || \"IDLE\",\n  priceLists: state.prices.getPriceLists.data\n});\n\nconst mapDispatchToProps = {\n  newBill,\n  getMedicals,\n  getPrices,\n  getPriceLists\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(NewBillActivity);","map":{"version":3,"sources":["/home/zak/Tesi/OH_React_Tesi/src/components/activities/newBillActivity/NewBillActivity.tsx"],"names":["React","useEffect","useState","AppHeader","Footer","Button","Table","TextData","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useTranslation","connect","HighlightOffIcon","newBill","getPrices","getPriceLists","getMedicals","DrawerActivity","NewBillActivity","userCredentials","billHomeRoute","med","getMedStat","bill","prices","priceLists","t","breadcrumbMap","patient","setPatient","url","auth","acc","fetchData","response","fetch","method","headers","Accept","Authorization","json","error","console","log","patient_data","firstName","secondName","delete_item","e","setItems","items","filter","item","test","preventDefault","shrink","map","x","y","hashCode","itemAmount","itemQuantity","mapStateToProps","state","main","authentication","data","bills","getBill","medicals","medicalsOrderByName","status","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, Children, FunctionComponent, useEffect, useRef, useState } from \"react\";\nimport AppHeader from \"../../accessories/appHeader/AppHeader\";\nimport Footer from \"../../accessories/footer/Footer\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from '@material-ui/core/Table';\nimport TextData from '@material-ui/core/TextField'\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { useTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { IState } from \"../../../types\";\nimport \"./styles.scss\";\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport {\n    newBill,\n    getBill,\n} from \"../../../state/bills/actions\";\nimport {\n    getPrices,\n    getPriceLists\n} from \"../../../state/prices/actions\"\nimport {\n    getMedicals,\n} from \"../../../state/medicals/actions\"\nimport {\n    IDispatchProps,\n    IStateProps,\n    TProps,\n    Item,\n} from \"./types\";\nimport DrawerActivity from \"./DrawerActivity\";\nimport { BillItemsDTO, FullBillDTO, PatientDTO } from \"../../../generated\";\n\n\nconst NewBillActivity: FunctionComponent<TProps> = ({\n    userCredentials,\n    billHomeRoute,\n    med,\n    getMedicals,\n    getMedStat,\n    bill,\n    newBill,\n    prices,\n    getPrices,\n    priceLists,\n    getPriceLists,\n}) => {\n\n    const { t } = useTranslation();\n    type Custom = {\n        id: number,\n        description: string,\n        amount: string,\n    }\n\n\n\n    const breadcrumbMap = {\n        [t(\"nav.dashboard\")]: \"/\",\n        [t(\"nav.billing\")]: \"/billing\",\n        [t(\"nav.newbill\")]: \"/bills\",\n    };\n    useEffect(() => {\n        getMedicals();\n    }, []);\n\n\n    useEffect(() => {\n        getPrices();\n    }, []);\n\n\n    //\n    //get patient\n    //\n    const [patient, setPatient] = useState<PatientDTO>();\n\n    useEffect(() => {\n        const url = \"https://www.open-hospital.org/oh11-api/patients?page=1&size=1\";\n        const auth = \"Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImF1dGgiOiJhZG1pbiIsImV4cCI6MTYyOTgwNjkwMX0.65SNDeb_LGZZb_bIa20q8zQok0UiXEMHvJfiW8x0YHNujg6FFbMnz9WxC7H0MGgjAHgihFNL5mW3p1YZi6-7UQ\";\n        const acc = \"application/json\";\n\n        const fetchData = async () => {\n            try {\n                const response = await fetch(url, { method: 'GET', headers: { Accept: acc, Authorization: auth } });\n                const json = await response.json();\n                setPatient(json[0])\n\n            } catch (error) {\n                console.log(\"error\", error);\n            }\n        };\n        fetchData();\n    }, []);\n\n    const patient_data = patient?.firstName + \" \" + patient?.secondName;\n\n\n\n    //delete an item from bill\n    const delete_item = (e: BillItemsDTO) => {\n        setItems(items.filter(item => e !== item));\n    }\n    const [items, setItems] = React.useState<BillItemsDTO[]>([]);\n\n    const test = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n        e.preventDefault();\n        console.log('hello patient')\n    }\n\n    //  //  //  //  //\n\n    //  CREATE BILL //\n\n    //  //  //  //  //\n\n\n    return (\n        <div className=\"new_Bill\">\n            <AppHeader\n                userCredentials={userCredentials}\n                breadcrumbMap={breadcrumbMap}\n            />\n            <div className=\"newBill__background\">\n                <div className=\"newBill__content\">\n                    <div className=\"newBill__title\">{t(\"nav.newbill\")}</div>\n                    <div className=\"newBill__panel\">\n                        <div className=\"billPanel\">\n                            <form>\n                                <div className=\"newBill_Head\">\n                                    <div className=\"newBill_Date_Pat\">\n                                        <TextData\n                                            className='bill_Date'\n                                            id=\"date\"\n                                            label=\"SELECT DATE\"\n                                            type=\"date\"\n                                            defaultValue=\"\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                        />\n                                        <Button type=\"submit\" className='bill_SelectPat' onClick={e => test(e)} variant=\"outlined\">find Patient</Button>\n                                    </div>\n                                    <div className=\"newBill_InputPat\">\n                                        <label>Patient</label><span></span><input className=\"patient_input\" value={patient_data} disabled ></input>\n                                        <Button className=\"buttonBillSubmit\">SAVE</Button>\n                                    </div>\n\n                                </div>\n                                <div className=\"newBill_Rows\">\n                                    <TableContainer className=\"tableDrawer\" component={Paper}>\n                                        <Table size=\"small\" aria-label=\"a dense table\">\n                                            <TableHead>\n                                                <TableRow>\n                                                    <TableCell>Description</TableCell>\n                                                    <TableCell>Amount</TableCell>\n                                                    <TableCell>Qty</TableCell>\n                                                    <TableCell>Delete</TableCell>\n                                                </TableRow>\n                                            </TableHead>\n                                            <TableBody>\n                                                {items?.map((x, y) => {\n                                                    return (\n                                                        <TableRow>\n                                                            <TableCell>{x.hashCode}</TableCell>\n                                                            <TableCell>{x.itemAmount}</TableCell>\n                                                            <TableCell>{x.itemQuantity}</TableCell>\n                                                            <TableCell><Button onClick={() => delete_item(x)}><HighlightOffIcon></HighlightOffIcon></Button></TableCell>\n                                                        </TableRow>\n                                                    )\n                                                }\n                                                )}\n                                            </TableBody>\n                                        </Table>\n                                    </TableContainer>\n                                </div>\n                            </form>\n                        </div>\n                        <div className=\"bill_Drawer\">\n                            <DrawerActivity prices={prices} items={items} setItems={setItems} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <Footer />\n        </div>\n    );\n}\n\n\nconst mapStateToProps = (state: IState): IStateProps => ({\n    userCredentials: state.main.authentication.data,\n    bill: state.bills.getBill.data,\n    med: state.medicals.medicalsOrderByName.data,\n    prices: state.prices.getPrices.data,\n    getMedStat: state.medicals.medicalsOrderByName.status || \"IDLE\",\n    priceLists: state.prices.getPriceLists.data\n});\n\n\n\n\nconst mapDispatchToProps: IDispatchProps = {\n    newBill,\n    getMedicals,\n    getPrices,\n    getPriceLists\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewBillActivity);\n"]},"metadata":{},"sourceType":"module"}